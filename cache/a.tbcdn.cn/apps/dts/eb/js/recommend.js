/*pub-1|2013-04-25 16:16:56*/var thrc=(function(){return{refer:"",count:"",key:"",keyType:"",itemType:"",defaultRec:"",doRecRender:function(u,c,n){var h=jQuery("#rec_position");if(h){if(c==-1){return}if(u.length>0){var f=thrc.getBucketid();var e=jQuery("#rec_position");e.attr("data-spm","1.1000572.88037");var m='<div class="ebook_best_seller_area_wrap">';m+='<div class="hd"><h3 title="\u7545\u9500\u63a8\u8350"></h3><em class="slogan">\u60a8\u53ef\u80fd\u559c\u6b22\u8fd9\u4e9b\u4e66<b></b></em>';m+='<div class="ebook_best_seller_cats">';m+='<span class="ebook_best_seller_nav">';if(n.length>0){m+='<a hidefocus="" class="cur" href="javascript:void(0)" onmouseover="javascript:thrc.doRecCat(0,0)">\u5168\u90e8<b></b></a>';for(var p=0;p<n.length;p++){var k=n[p];var d="";if(p==(n.length-1)){d="end"}var b=p+1;m+='<a hidefocus="" title="'+k.catName+'" class="'+d+"\" catId='"+k.catId+'\' href="javascript:void(0)" onmouseover="javascript:thrc.doRecCat('+k.catId+","+b+')">'+k.catName+"<b></b></a>"}}m+="</span>";m+="</div>";m+="</div>";m+='<div class="bd"><div class="ebook_best_seller_con_wrap">';var t="ebook_best_seller_con con_"+0;var g="conwrap_0";m+='<div class="'+t+'" id="'+g+'" >';var a=Math.ceil(u.length/14);for(var p=1;p<=a;p++){var q=14;if(p==a){q=u.length-(p-1)*14}m+='<ul style="display: block; float: left;">';for(var o=1;o<=q;o++){var l=14*(p-1)+o-1;var s=u[l];var r=s.url;m+="<li>";m+='<a title="'+s.title+'" target="_blank" href=\''+r+"'>";m+="<img alt='"+s.title+"' src='"+s.image+"'>";m+="<h5>"+s.title+"</h5>";m+="<p>"+s.autors+"</p>";m+="</a>";m+="</li>"}m+="</ul>"}m+="</div>";if(n.length>0){for(var p=1;p<=n.length;p++){var t="ebook_best_seller_con con_"+p;var g="conwrap_"+p;m+='<div class="'+t+'" id="'+g+'">';m+="</div>"}}m+="</div>";if(a>1){m+='<a hidefocus="" class="prev" id="rec_prev" href="javascript:void(0)">\u524d\u4e00\u9875</a>';m+='<a hidefocus="" class="next" id="rec_next" href="javascript:void(0)">\u540e\u4e00\u9875</a>'}m+="</div>";h.append(jQuery(m));jQuery("#ebook_best_seller_area").remove();jQuery("#rec_position").css("display","block");KISSY.use("switchable,datalazyload",function(j,i){var w=i.Carousel;var v=new w(".ebook_best_seller_area",{navCls:"ebook_best_seller_nav",contentCls:"ebook_best_seller_con_wrap",activeTriggerCls:"cur",effect:"none",easing:"easeOutStrong",steps:1,circular:true,autoplay:false});new w(".ebook_best_seller_area_wrap",{contentCls:"con_"+thrc.catPosition,effect:"scrollx",easing:"easeOutStrong",viewSize:[970],steps:1,interval:6,circular:true,autoplay:false,prevBtnCls:"prev",nextBtnCls:"next",lazyDataType:"area-data"})})}}},doRecRenderCat:function(d,k){var g="conwrap_"+thrc.catPosition;var a=jQuery("#"+g);if(a){if(d.length>0){if(thrc.catPosition==0){return}var b=Math.ceil(d.length/14);var h="";for(var e=1;e<=b;e++){var l=14;if(e==b){l=d.length-(e-1)*14}h+='<ul style="display: block; float: left;">';for(var c=1;c<=l;c++){var f=14*(e-1)+c-1;var n=d[f];var m=n.url;h+="<li>";h+='<a title="'+n.title+'" target="_blank" href=\''+m+"'>";h+="<img alt='"+n.title+"' src='"+n.image+"'>";h+="<h5>"+n.title+"</h5>";h+="<p>"+n.autors+"</p>";h+="</a>";h+="</li>"}h+="</ul>"}a.append(jQuery(h));if(b<=1){jQuery("#rec_prev").css("display","none");jQuery("#rec_next").css("display","none")}else{jQuery("#rec_prev").css("display","block");jQuery("#rec_next").css("display","block")}KISSY.use("switchable,datalazyload",function(j,i){var o=i.Carousel;new o(".ebook_best_seller_area_wrap",{contentCls:"con_"+thrc.catPosition,effect:"scrollx",easing:"easeOutStrong",viewSize:[970],steps:1,interval:6,circular:true,autoplay:false,prevBtnCls:"prev",nextBtnCls:"next",lazyDataType:"area-data"})})}}},doRec:function(){var a=jQuery.trim(thrc.getUserId());var b=jQuery.trim(thrc.getTid());if(a==""&&b==""){return}var c=thrc.getThrcServer()+"/json/show_rec_list.do?uid="+a+"&tid="+b+"&key_type="+thrc.keyType+"&count="+thrc.count+"&default_rec="+thrc.defaultRec+"&rf="+thrc.refer+"&item_type="+thrc.itemType+"&isNeedTag=1";jQuery.ajax({type:"get",url:c,dataType:"jsonp",jsonp:"callback",jsonpCallback:"thrc.doRecRender",success:function(d){},error:function(){}})},doRecCat:function(e,d){thrc.catPosition=d;var b="conwrap_"+d;var g=document.getElementById(b);if(d==0){var a=jQuery("#"+b);var h=a.find("ul").length;if(h<=1){jQuery("#rec_prev").css("display","none");jQuery("#rec_next").css("display","none")}else{jQuery("#rec_prev").css("display","block");jQuery("#rec_next").css("display","block")}return}if(g&&g.innerHTML!=""){var a=jQuery("#"+b);var h=a.find("ul").length;if(h<=1){jQuery("#rec_prev").css("display","none");jQuery("#rec_next").css("display","none")}else{jQuery("#rec_prev").css("display","block");jQuery("#rec_next").css("display","block")}return}var f=jQuery.trim(thrc.getUserId());var c=jQuery.trim(thrc.getTid());if(f==""&&c==""){return}var i=thrc.getThrcServer()+"/json/show_rec_list.do?uid="+f+"&tid="+c+"&key_type="+thrc.keyType+"&count="+thrc.count+"&default_rec="+thrc.defaultRec+"&rf=dch_md_up_cat&item_type="+thrc.itemType+"&catId="+e;jQuery.ajax({type:"get",url:i,dataType:"jsonp",jsonp:"callback",jsonpCallback:"thrc.doRecRenderCat",success:function(j){},error:function(){}})},getThrcServer:function(){return"http://recommend.taobao.com"},getUserId:function(){var c=document.getElementById("tb-beacon");var a=c.getAttribute("exparams");var b=a.split("userid=")[1].split("&")[0];return b},getTid:function(){var c=document.getElementById("tb-beacon");var a=c.getAttribute("exparams");var b=a.split("tid=")[1].split("&")[0];return b},getBucketid:function(){var c=document.getElementById("tb-beacon");var a=c.getAttribute("exparams");var b=a.split("at_bucketid=")[1].split("&")[0];return b}}})();thrc.refer="dch_md_up_tb";thrc.count="84";thrc.key="0";thrc.defaultRec="1";thrc.itemType="100";thrc.callback="thrc.doRecRender";thrc.doRec();thrc.catPosition=0;